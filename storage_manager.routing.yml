storage_manager.dashboard:
  path: '/admin/storage'
  defaults:
    _title: 'Storage Manager'
    _controller: '\Drupal\storage_manager\Controller\DashboardController::view'
  requirements:
    _permission: 'manage storage'

storage_manager.history:
  path: '/admin/storage/history'
  defaults:
    _title: 'Assignment History'
    _controller: '\Drupal\storage_manager\Controller\DashboardController::history'
  requirements:
    _permission: 'manage storage'

storage_manager.unit_assign:
  path: '/admin/storage/unit/{storage_unit}/assign'
  defaults:
    _title: 'Assign Storage Unit'
    _form: '\Drupal\storage_manager\Form\AssignForm'
  requirements:
    _permission: 'manage storage'
  options:
    parameters:
      storage_unit:
        type: entity:storage_unit

storage_manager.unit_release:
  path: '/admin/storage/unit/{storage_unit}/release'
  defaults:
    _title: 'Release Storage Unit'
    _form: '\Drupal\storage_manager\Form\ReleaseForm'
  requirements:
    _permission: 'manage storage'
  options:
    parameters:
      storage_unit:
        type: entity:storage_unit

storage_manager.claim:
  path: '/storage/claim'
  defaults:
    _title: 'Claim Storage'
    _form: '\Drupal\storage_manager\Form\ClaimStorageForm'
  requirements:
    _permission: 'claim storage unit'

storage_manager.member_dashboard:
  path: '/user/storage'
  defaults:
    _title: 'My Storage'
    _controller: '\Drupal\storage_manager\Controller\MemberStorageController::page'
  requirements:
    _permission: 'claim storage unit'

storage_manager.settings:
  path: '/admin/config/storage/manager'
  defaults:
    _title: 'Storage Manager settings'
    _form: '\Drupal\storage_manager\Form\StorageManagerSettingsForm'
  requirements:
    _permission: 'manage storage'

storage_manager.assignment_edit:
  path: '/admin/storage/assignment/{storage_assignment}/edit'
  defaults:
    _title: 'Edit Assignment'
    _form: '\Drupal\storage_manager\Form\EditAssignmentForm'
  requirements:
    _permission: 'manage storage'
  options:
    parameters:
      storage_assignment:
        type: entity:storage_assignment

storage_manager.assignment_manual_confirm:
  path: '/admin/storage/assignment/{storage_assignment}/manual-confirm'
  defaults:
    _title: 'Confirm Stripe manual follow-up'
    _form: '\Drupal\storage_manager\Form\StripeManualConfirmForm'
  requirements:
    _permission: 'manage storage'
  options:
    parameters:
      storage_assignment:
        type: entity:storage_assignment

storage_manager.start_violation:
  path: '/admin/storage/assignment/{storage_assignment}/start-violation'
  defaults:
    _title: 'Start Violation'
    _form: '\Drupal\storage_manager\Form\StartViolationForm'
  requirements:
    _permission: 'manage storage'
  options:
    parameters:
      storage_assignment:
        type: entity:storage_assignment

storage_manager.user_release:
  path: '/user/storage/release/{storage_assignment}'
  defaults:
    _entity_form: 'storage_assignment.user-release'
    _title: 'Confirm Release'
  requirements:
    _permission: 'claim storage unit'
  options:
    parameters:
      storage_assignment:
        type: entity:storage_assignment

storage_manager_billing.sub_create_or_open:
  path: '/admin/storage/subscription/{assignment}'
  defaults:
    _controller: '\Drupal\storage_manager\Controller\StorageSubController::createOrOpen'
    _title: 'Create or Open Subscription'
  requirements:
    _permission: 'manage storage billing'
  options:
    parameters:
      assignment:
        type: entity:storage_assignment

storage_manager_billing.portal:
  path: '/billing/storage/invoices'
  defaults:
    _controller: '\Drupal\storage_manager\Controller\StoragePortalController::portal'
    _title: 'View Storage Invoices'
  requirements:
    _role: 'authenticated'
